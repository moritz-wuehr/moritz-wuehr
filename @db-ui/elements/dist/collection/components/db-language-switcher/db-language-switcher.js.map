{"version":3,"file":"db-language-switcher.js","sourceRoot":"","sources":["../../../src/components/db-language-switcher/db-language-switcher.tsx"],"names":[],"mappings":"AAAA,yDAAyD;AACzD,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,eAAe,CAAC;AAElE,OAAO,EAAE,SAAS,EAAE,MAAM,mBAAmB,CAAC;AAE9C,MAAM,eAAe,GAAG,CAAC,QAAsB,EAAE,iBAAyB,EAAE,EAAE;EAC5E,IAAI,CAAC,QAAQ;IAAE,OAAO,EAAE,CAAC;EACzB,OAAO,QAAQ;KACZ,GAAG,CACF,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,CACd,qBACE,iBAAiB,KAAK,KAAK,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,EAClD,qBAAqB,IAAI,CAAC,KAAK,YAAY,IAAI,CAAC,IAAI,KAClD,IAAI,CAAC,KACP,iBAAiB,CACpB;KACA,IAAI,CAAC,IAAI,CAAC,CAAC;AAChB,CAAC,CAAC;AAMF,MAAM,OAAO,kBAAkB;;;;;EAe7B,IAAI,QAAQ;IACV,OAAO,IAAI,CAAC,SAAS,CAAC;EACxB,CAAC;EAED,IAAI,QAAQ,CAAC,KAAgB;IAC3B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;EACzB,CAAC;EAKD,iBAAiB;IACf,IAAI,IAAI,CAAC,IAAI,EAAE;MACb,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACtC;SAAM;MACL,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;MAChD,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,IAAI,CAAC,EAAE;QACvE,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,SAAS;WACX,MAAM,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,IAAI,CAAC;WACvD,OAAO,CAAC,CAAC,KAAK,EAAE,KAAK,EAAE,EAAE;UACxB,IAAI,KAAK,KAAK,IAAI,CAAC,iBAAiB,EAAE;YACpC,KAAK,CAAC,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;WAC7C;UACD,KAAK,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;QACvC,CAAC,CAAC,CAAC;OACN;WAAM;QACL,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;OAC1B;KACF;EACH,CAAC;EAED,MAAM;IACJ,OAAO,CACL,EAAC,IAAI;MACF,IAAI,CAAC,QAAQ,IAAI,CAChB,UACE,KAAK,EAAC,uBAAuB,EAC7B,SAAS,EAAE,eAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,iBAAiB,CAAC,GACjE,CACH;MACA,CAAC,IAAI,CAAC,QAAQ,IAAI,CACjB,UAAI,KAAK,EAAC,uBAAuB;QAC9B,CAAC,IAAI,CAAC,eAAe;UACpB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,KAAK,EAAE,EAAE,CAAC,CACnC,UACE,GAAG,EAAE,8BAA8B,KAAK,EAAE,kBAC5B,KAAK,KAAK,IAAI,CAAC,iBAAiB,EAC9C,SAAS,EAAE,KAAK,CAAC,SAAS,GAC1B,CACH,CAAC;QACH,IAAI,CAAC,eAAe,IAAI,eAAQ,CAC9B,CACN,CACI,CACR,CAAC;EACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["/*  eslint-disable @stencil-community/decorators-style */\nimport { Component, Element, Host, h, Prop } from '@stencil/core';\nimport { DbLinkType } from '../db-link/db-link-type';\nimport { parseData } from '../../utils/utils';\n\nconst getCompDataHtml = (compData: DbLinkType[], ariaSelectedIndex: number) => {\n  if (!compData) return '';\n  return compData\n    .map(\n      (data, index) =>\n        `<li role=\"option\" ${\n          ariaSelectedIndex === index ? 'aria-selected' : ''\n        } ><db-link title=\"${data.title}\"  href=\"${data.href}\">${\n          data.label\n        }</db-link></li>`\n    )\n    .join('\\n');\n};\n\n@Component({\n  tag: 'db-language-switcher',\n  styleUrl: 'db-language-switcher.scss'\n})\nexport class DbLanguageSwitcher {\n  /**\n   * The aria-selected-index shows the link as selected which has the given index.\n   */\n  @Prop({ reflect: true, attribute: 'aria-selected-index' })\n  ariaSelectedIndex: number;\n  /**\n   * The data attribute can be used to generate linklist by data.\n   */\n  @Prop({ reflect: true }) data?: string;\n\n  private compData: DbLinkType[];\n\n  private hasItemsWrapper: boolean;\n\n  get children(): Element[] {\n    return this._children;\n  }\n\n  set children(value: Element[]) {\n    this._children = value;\n  }\n  private _children: Element[];\n\n  @Element() host: HTMLDbLanguageSwitcherElement;\n\n  componentWillLoad() {\n    if (this.data) {\n      this.compData = parseData(this.data);\n    } else {\n      this._children = Array.from(this.host.children);\n      if (this.children.find((child) => child.tagName.toLowerCase() === 'li')) {\n        this.hasItemsWrapper = true;\n        this._children\n          .filter((child) => child.tagName.toLowerCase() === 'li')\n          .forEach((child, index) => {\n            if (index === this.ariaSelectedIndex) {\n              child.setAttribute('aria-selected', 'true');\n            }\n            child.setAttribute('role', 'option');\n          });\n      } else {\n        this.host.innerHTML = '';\n      }\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        {this.compData && (\n          <ul\n            class=\"cmp-language-switcher\"\n            innerHTML={getCompDataHtml(this.compData, this.ariaSelectedIndex)}\n          />\n        )}\n        {!this.compData && (\n          <ul class=\"cmp-language-switcher\">\n            {!this.hasItemsWrapper &&\n              this._children.map((child, index) => (\n                <li\n                  key={`cmp-language-switcher-item-${index}`}\n                  aria-current={index === this.ariaSelectedIndex}\n                  innerHTML={child.outerHTML}\n                />\n              ))}\n            {this.hasItemsWrapper && <slot />}\n          </ul>\n        )}\n      </Host>\n    );\n  }\n}\n"]}